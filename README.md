# Акватеррон

Личный кабинет для аквариумов, террариумов и палюдариумов. Включает калькуляторы, календарь, фриланс‑площадку специалистов, чат, шеринги доступа и PRO‑подписку.

## Быстрый старт

1. Установите зависимости:

```
npm install
```

2. Запуск dev‑сервера:

```
npm run dev
```

3. Открыть: `http://localhost:3000`

## Конфигурация облака (Supabase)

1. Создайте проект в Supabase и заполните `.env.local` по примеру `.env.example`:

```
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
```

2. Выполните SQL из `db/schema.sql` в Supabase (SQL Editor).
3. Создайте Storage бакет `systems` (public read, auth write).

## Аутентификация

- OAuth: Google/Яндекс/VK (настроить провайдеров в Supabase → Authentication).
- Гостевой режим: ввод имени, без регистрации (локально сохраняется).

## Роли и доступы

- Роли: Пользователь ↔ Специалист (переключение в шапке).
- Доступ к системам: владелец делится системой со специалистом (на странице системы).

## Маркетплейс

- Профили специалистов, услуги, заказы, статусы.
- Комиссия сервиса: 0–9: 15%, 10–49: 13%, 50–199: 11%, 200+: 9%.
- Чат внутри заказов.

## Тарифы

- Free: до 2 систем
- PRO: без лимита, расширенная аналитика, снижение комиссий покупателя (−1 п.п.)

## Синхронизация и деплой

- Git: храните код на GitHub/GitLab/Bitbucket.
- CI/CD варианты:
  - Vercel: быстрый деплой Next.js. Настройте переменные окружения (NEXT_PUBLIC_SUPABASE_*). Подключите репозиторий.
  - Docker: сборка образа и деплой на любой VPS/ Kubernetes. Добавьте `Dockerfile` и `docker-compose.yml` при необходимости.
  - Supabase: база и сторедж; храните миграции в `db/schema.sql` (расширяйте по мере роста).
- Релизы: используйте ветки (`main`/`develop`), PR‑ревью, теги версий (v1.1, v1.2…).

## Тестовые/демо режимы

- Если `.env` не задан: используется in‑memory демо‑данные для систем/услуг/заказов/сообщений — удобен для локальной разработки.

## Дальнейшие шаги

- Интеграция оплат (Stripe/ЮKassa), webhooks и точные статусы заказов
- Профили специалистов (портфолио, отзывы, расписание)
- Разрешения шерингов (readonly/write), отзыв доступа
- Экспорт/импорт данных, бэкапы

## Скрипты

- `npm run dev` — запуск dev
- `npm run build` — сборка
- `npm start` — старт prod

## Стек

- Next.js 14 (App Router), TypeScript, Tailwind, Zustand, Supabase